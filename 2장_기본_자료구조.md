# 2장_기본_자료구조

## 배열이란

### 자료구조

데이터 단위와 데이터 자체 사이의 물리적 또는 논리적인 관계?

```
자료를 효율적으로 사용할 수 있도록 컴퓨터에 저장하는 방법
```

컴퓨터 과학에서 효율적인 접근 및 수정을 가능케 하는 자료의 조직, 관리, 저장, [위키백과](https://ko.wikipedia.org/wiki/%EC%9E%90%EB%A3%8C_%EA%B5%AC%EC%A1%B0)

---

### 배열

같은 자료형의 변수인 구성 요소가 모인 자료구조

자료형으로 모든 타입 사용가능

**배열선언**

```java
int[] a = new int[5]; //배열 다루기 위한 변수를 값을 저장할 수 있는 배열 참조하도록 함
```

배열이 선언되면서 크기도 정해져야 한다.

메모리의 힙 공간에 4바이트 5공간을 확보. 초기화 해주지 않는다면 기본값이 저장된다.

- 각 자료형 기본값
    - byte → (byte) 0
    - short → (short) 0
    - int → 0
    - long → 0L
    - float → 0.0f
    - double → 0.0d
    - char → ‘\u0000’
    - boolean → false
    - 참조형 → null

**요소의 개수**

배열 이름.length

**배열 참조하기**

매개변수로 배열을 받거나 배열을 참조하는 일이 생길 때

```java
int[] height = new int[num];
method1(height);
int method1(int[] a){
...
}
```

배열 a는 height가 참조하는 곳을 복사해서 같은 배열 본체를 참조

**접근 제한자**

객체를 설계할 때는 각 구성요소들을 외부에서 접근 가능한 것과 불가능한 것으로 적절히 나눈다.

자바에서는 이러한 기능을 위해 접근 제한자를 제공한다.

예) 객체의 외부에서 객체 변수를 직접 접근해서 값을 변경하는 것을 막고(private) getter나 setter(public)로 값을 읽고 수정할수 있도록 하는 것이 바람직하다.

- 접근 권한
    
    
    |  | 클래스 내부 | 같은 패키지 | 자식 클래스 | 다른 패키지 |
    | --- | --- | --- | --- | --- |
    | public | ok | ok | ok | ok |
    | protected | ok | ok | ok | x |
    | default | ok | ok | x | x |
    | private | ok | x | x | x |

cf. 난수 관련 메모

컴퓨터는 계산된 결과를 바탕으로 난수를 생성하고 일정한 규칙을 따르므로 의사 난수라고 한다. 매번 같은 방법으로 난수를 리턴한다면 난수라고 할 수 없다. 따라서 매번 다르게 생성될 수 밖에 없는 방법을 사용하는데, 시간에 따라 다르게 생성되는 seed(사용자 정의X)값을 매개변수로 전달해서 난수를 생성한다. 

**배열 값 교환하기**

자바에서는 한번에 두가지 요소를 서로 교환할 수 없다. 따라서 새로운 변수를 하나 더 생성해 교환한다.

arr[1]과 arr[2] 교환하기

```java
int temp = arr[1];
arr[1] = arr[2];
arr[2] = temp;
```

cf. 정수 상수의 n진수 표현 방법

16진수의 경우, 0x나 0X를 앞에 붙이고 8진수의 경우 0을 숫자 앞에 붙인다. 

---

### 알고리즘 개선하기

**소수 n 구하기** → 2부터 n-1까지 어떤 정수로도 나누어 떨어지지 않는 수

2부터 시작해서 n-1까지 나누어 떨어지는지 확인 한다.

하지만 소수인 2 또는 3으로 나누어 떨어지지 않으면 소수의 곱으로 이루어진 수로도 나누어 떨어지지 않는다. 따라서 n-1까지의 모든 수로 나눠볼 필요 없이 n-1까지의 소수들로만 나누어보면 된다.

**개선1**

소수를 구하는 과정에서 이때까지 구한 소수들을 배열에 저장한다. 소수를 구하는 과정도 지금까지 저장된 소수로 나눗셈을 진행한다.

판별할 때 홀수만 해도 된다. 짝수는 2로 나누어지기 때문

소수배열에 인덱스0은 2가 있으므로 1부터 시작해서 소수로 나누어지는지 체크

**→ 1000까지 기준 78022회에서 14622회로 수행횟수 감소, 추가적인 배열 사용 필요**

**개선2**

n의 약수는 중앙부분을 기준으로 양쪽의 수를 곱해서 n이 되는 것이므로

예) 1 2 4 8 이면 1*8=8, 2*4=8

n의 전체 약수의 1/2만 가지고 판단하는 것이 효율적이다.

중앙부분은 n의 제곱근이고 제곱근 이하의 어떤 수로도 나누어떨어지지 않으면 되고,

2부터 n-1까지 어떤 소수로도 나누어 떨어지지 않으면 되므로

n의 제곱근 이하의 어떤 소수로도 나누어 떨어지지 않으면 n은 소수다.

```java
//소수배열에서 요소가 n의 제곱근보다 작거나 같을때까지 판별
for(int i=0; prime[i] * prime[i] <= n; i++)
```

**→1000까지 기준 3774회 수행횟수**

---

## 클래스

여러 타입의 요소들을 담을 수 있는 자료구조

클래스형 변수를 생성하면 클래스 안의 필드나 메소드를 참조한다.

각 내부 구성들은 프로퍼티 접근법으로 접근한다. 점 표시

Fruit.grape

**클래스 내부 규칙**

- 필드, 메소드, 생성자 public, pritected, private 지정 가능
- 메소드, 생성자 오버로딩 가능
- final 키워드 변수는 수정 불가

**클래스 종류**

- 상속 클래스 → extends 상속받음, 부모클래스의 필드 메소드 물려받음
- 인터페이스 → implements로 구현, 관련 구현체들끼리 유지보수 용이
- 추상 클래스 → 추상클래스에서는 인스턴스 생성 불가, 하위클래스가 실제로 정의